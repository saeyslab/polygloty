---
title: "Polyglot programming for single-cell analysis"
author:
- "Louise Deconinck"
- "Benjamin Rombaut"
- "Robrecht Cannoodt"
date: "9/12/2024"
format:
  revealjs:
    css: slides.css
    toc-depth: 1
    smaller: true
    slide-number: true
    show-slide-number: all
    embed-resources: true
    preview-links: auto
    progress: true
    history: true
    link-external-newwindow: true
jupyter: python3
exectute:
    echo: true
---

# Introduction

1. How do you interact with a package in another language?
2. How do you make you package useable for developers in other languages?

We will be focusing on R & Python

# How do you interact with a package in another language?

1. File format based interoperability
2. In-memory interoperability

# How do you make your package useable for developers in other languages?

1. Package-based interoperability
2. Best practices

## Package-based interoperability
or: the question of reimplementation.

Consider the pros:
- Discoverability
- Can your package be useful in other domains?
- Very user friendly

Consider the cons:
- Think twice: is it worth it?
- It's a lot of work
- How will you keep it up to date?
- How will you ensure parity?

## Best practices
1. Work with the standards
2. Work with matrices, arrays and dataframes
3. Provide vignettes on interoperability

# File format based interoperability


# Calling Python from R and vice versa
or: in-memory interoperability

## Overview


reticulate:

1. Call Python in R
2. embed a Python session within your R session

basilisk allows managing Python environments within the BioConductor ecosystem

rpy2:

1. Call R in Python
2. run R in a Python process

## in-memory interoperability advantages
- no need to write & read results
- useful when you need a limited amount of functions in another language

## in-memory interoperability drawbacks
- no access to classes
- you need to extract necessary matrices & arrays for the method
- ensure that the method accepts this
- you need to be familiar with using & managing both environments
- data duplication
- you need to manage the environments

## accessing R from Python

rpy2: an interface to R running embedded in a Python process




Jupyter notebooks:
- Use IPython magic interface
- most useful for matrices & arrays

e.g. `%%R -i input -o output` as the first line of the cell

## accessing R from Python
rpy2

- use anndata2ri: converts anndata objects to SingleCellExperiment

## accessing Python from R
reticulate
basilisk



# Workflows

# Takeaways
